Our disk is now ready to install arch.

### 3.1 Base Packages
Use `pacstrap /mnt <package list>` to install packages at the root directory which is mounted on `/mnt`

The minimum required packages are:
1. `base`: has the base arch system
2. `linux`: the actual linux kernel itself
3. `linux-firmware`: Some firmware for hardware support

Optionally we can also install:
- `vim`: no default text editor installed, or maybe nano is there idk, but we need a text editor before the system is setup and I need vim.
- `networkmanager`: a utility which makes network management easier, otherwise you'll have to bring up the network manually after every boot.


### 3.2 fstab
- For now we have created mountpoints and swapons for all the partitions on the installation medium, but when we boot from our target SSD, it won't have any mountpoints to mount which partition on which directory, so we create a filesystem table in the installation medium using
	`genfstab -U /mnt(or wherever target SSD's root is mounted on the installation medium)`
- This will create a table showing which partitions should be mounted on which directories.
- We'll put this in `/etc/fstab` of the target SSD, i.e, `/mnt/etc/fstab` from the context of the installation medium.
- Now the next time linux boot's it can look at this file and appropriately mount all the partitions on correct directories.
	`genfstab -U >> /mnt/etc/fstab`

### 3.3 chroot
Now the target SSD is almost ready to use arch on, we can `chroot`(change root) and directly use the arch system from the SSD.

`arch-chroot /mnt(or wherever root partition is mounted)`

You are now in the shell of our arch system.

But still it is a little incomplete.

First we need to do some general settings, but even after that, if we reboot, we wont be able to directly boot into the arch SSD, this is because we don't have a bootloader yet.

- Set up system time using:
	`ln -sf /usr/share/zoneinfo/_Region_/_City_ /etc/localtime`, figures out timezone
	`hwclock --systohc`, syncs software system time with hardware clock

- Setup keyboard locale by:
	- Uncommenting the desired locales in the `/etc/locale.gen` file
	- Then run `locale-gen`
	- Now put all the locales in the form `LANG=<locale_name>` in the `/etc/locale.conf` file so on next system startup it uses these locales

- Give a hostname to the machine:
	- Write `<hostname>` in the file `/etc/hostname`

- Setup root password using:
	- `passwd`

- Create a non-root user for yourself:
	- `useradd -m -G wheel -s /bin/bash <username>`
	- `-m` = create a home directory for the user
	- `-G` = add this user to a group, in our case it's the wheel group
	- `-s` = which shell should the user use after they login
- Set a password for this user using:
	- `passwd <username>`

- We want all users of `wheel` group to be able to use `sudo` to perform root privelage tasks.
- So first install `sudo` package
- Then run `visudo` which will open the sudo config file, scroll down and uncomment the line which allows members to wheel group to execute any command.

- To enable networkmanager on startup to handle network shit easily use:
	- `systemctl enable NetworkManager`

- For BootLoader install `grub` and `efibootmgr`
	- Run `grub-install --target=x86_64-efi --efi-directory=/boot`
	- Run `grub-mkconfig -o /boot/grub/grub.cfg`
We're now done

run `exit`, you'll be thrown back to the installation medium shell, unmount all the partitions from the installation medium using `umount -R /mnt`

reboot and see if you're being put into the arch system on the target SSD.

Instead of spamming BIOS key to go to BIOS everytime to select the boot device, we'll automatically get into the GRUB menu to select which device to boot from.

Note: For GRUB to recognize the windows disk as bootable, we had to install `os-prober` from `pacman`, and then enable OS-probing from the file `/etc/default/grub`, then remake the grub config using: `grub-mkconfig -o /boot/grub/grub.cfg`

NOW this is our bare minimum system ready to be rebooted.