
- Motherboards come with a "flashable" EEPROM or a flashed non-writable ROM, with the motherboard's "firmware".

- Firmware is just a fancy word for "fixed" software that is sort of essential for a system of components to work in the initial stages when the device starts. Manufacturers of the device write the firmware.

- Older motherboards came with the firmware called "BIOS", short for "Basic Input Output System" this allowed for OS writers to interface with the devices connected to the motherboard.

- UEFI, short for "Unified Extensible Firmware Interface", is a firmware which also works on the same idea but it is more modern.
- UEFI is the  firmware standard specified by a group of companies, Microsoft having a more prominent impact.

- EFI is like the actual thing, any implementation of the UEFI is a separate EFI.

- The UEFI firmware is specified and written in such a way that it is backwards compatible with disks that were written/have and OS targeted for Legacy BIOS, but hardware/CPU manufacturers have started dropping or will be dropping support for Legacy BIOS.

- A "disk" is simply a large block of storage which persistently stores 0s and 1s.

- In legacy BIOS, a disk would be bootable if it simply had `0x55` and `0xAA` as its 511th and 512th bytes respectively, no much other restrictions were there.

- A "disk partition" is the separation of a large storage disk, into smaller logical disks called "partitions".

- A "partition" is just a logical separation, physically it's just one disk.

- This partitioning allows software like the OS, or maybe the firmware to think that there are "multiple" disks connected, allowing for each partition to be formatted independently, Eg: Each partition may have a different physical filesystem stored on it, and still won't interfere with each other.

- A "disk partition table" is a table that resides at the very beginning of the disk which specifies where each of the logical disks/partitions begin and end on the actual physical disk.

- Earlier the partitioning scheme used to create these tables was called the "Master Boot Record"

#### Master Boot Record (MBR)

- This was the disk partitioning scheme used for legacy BIOS

- The MBR is specified within the first 512 bytes of a disk.

- It had 3 main components:
	1. The Bootstrap Code
	2. The disk partition entries
	3. The Boot Signature (`0xAA55`)

- Simply whenever a system started, Legacy BIOS would look at each disk, check for the Boot Signature, if it was `0xAA55`, then it would load the first sector of the disk, which is 512 B, which is also the MBR, into the RAM/Main Memory at address `0x7C00` and set the Instruction Pointer of the CPU to `0x7C00`.

- Now many different OS-es would take some space of the Bootstrap Code section for doing other meta-data type shi, more details on these different styles of MBRs can be found on [wikipedia](https://en.wikipedia.org/wiki/Master_boot_record#Sector_layout). 

- Note that no matter what the MBR style is, the main "partition table entries" are all of the same format.


#### GUID Partition Table (GPT)

- GPT is another disk partitioning scheme

- Its better than MBR in several ways:
	1. MBR has a limitation of being able to partition 2<sup>32</sup> of sectors, which translates to only 2TB if sector size is 512 B, in rare cases 16TB when the disk uses 4 KB sectors. But most OS-es limit MBR to 2TB only.

	2. GPT is able to partition 2<sup>63</sup> sectors, which translates to 2<sup>31</sup> = 2 Billion * the capacity of MBR limitations.
	
	3. GPT also has some security measures type shi.
	
	4. GPT allows the first sector to be a valid MBR so as to be backwards compatible with firmware that works only with MBR.


#### Goals

There are many utility programs like `fdisk`, `gdisk`, `cdisk`, etc. Which are used to create/generate these partition tables.

The goal of this project is to write a utility program which will write a valid GPT Table to a file/disk, so that when we write our own OS, this utility can be used to create a valid bootable ISO file which can be flashed onto real hardware as well.